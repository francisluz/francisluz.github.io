{"pageProps":{"post":{"title":"Why unit test culture is broken","date":"2020-08-03T23:30:26.887Z","slug":"unit-test-culture","author":{"name":"Francis Luz","picture":"/assets/blog/authors/francis.jpg"},"content":"<p>Write unit test should be as fun as writing your feature code, no matter which language you're using, it's all code at the end of the day.</p>\n<h2>How it can be improved</h2>\n<p>Sending the right message is key in my point of view to improve your unit test culture, you don't write unit tests because of the most advanced framework or the best methodology out there.</p>\n<p>They exist as a tool to help you to achieve the goals, which is to have a stable, reliable and documented codebase.</p>\n<h2>How the tools help</h2>\n<p>The framework will help you to mock calls to external sources that sometimes are 3rd party libraries, that we may don't need wanna include in your test cases.</p>\n<p>The methodology let's say <a href=\"https://en.wikipedia.org/wiki/Test-driven_development\">TDD(Test-Driven Development)</a> is a really helpful one, but I don't think that it's the only way of doing it, depends on your project, if there's legacy code, the timing of task and so on. You may find yourself writing together or at the end of your feature code. </p>\n<h2>Let's have a bit of fun</h2>\n<p>Just to have some code here, and if you're at the beginning of your developer journey let's see how a simple test looks like in python.</p>\n<p>A python class that prints the greetings message as ASCII art and return the base string. </p>\n<pre><code class=\"hljs language-python\"><span class=\"hljs-keyword\">from</span> art <span class=\"hljs-keyword\">import</span> *\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">HelloClass</span>:</span>\n\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">__init__</span>(<span class=\"hljs-params\">self</span>):</span>\n        self.HELLO_MSG = <span class=\"hljs-string\">\"Hello world, \"</span>\n\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">greetings</span>(<span class=\"hljs-params\">self, name</span>):</span>\n        msg = <span class=\"hljs-string\">f\"<span class=\"hljs-subst\">{self.HELLO_MSG}</span><span class=\"hljs-subst\">{name}</span>\"</span>\n        text_art = text2art(msg)\n        print(text_art)\n        <span class=\"hljs-keyword\">return</span> msg</code></pre>\n<p>Then its unit test will be like this one.</p>\n<pre><code class=\"hljs language-python\"><span class=\"hljs-keyword\">import</span> unittest\n<span class=\"hljs-keyword\">from</span> python_class <span class=\"hljs-keyword\">import</span> HelloClass\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">TestHelloClass</span>(<span class=\"hljs-params\">unittest.TestCase</span>):</span>\n\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">test_greetings</span>(<span class=\"hljs-params\">self</span>):</span>\n        hello_class = HelloClass()\n        self.assertEqual(hello_class.greetings(<span class=\"hljs-string\">'developer'</span>), <span class=\"hljs-string\">'Hello world, developer'</span>)</code></pre>\n<h2>Conclusion</h2>\n<p>Make sure that you plan the right time for your task, a unit test can be sometimes 40% of it, adapt to your project's needs and if the culture is broken, include it step-by-step. </p>\n<p>It's not easy to unit test a whole codebase that hasn't been planned to have it before. That's my main point from the title, the unit test culture could be broken for a variate of reasons, but there's always a room for improvements.</p>\n<p>Hope you enjoy it, that's my personal option about it and based on my experience.</p>\n<p>#python #javascript #unittest #testing</p>\n","ogImage":{"url":"/assets/blog/unit-test-culture/cover.jpg"},"coverImage":"/assets/blog/unit-test-culture/cover.jpg"}},"__N_SSG":true}